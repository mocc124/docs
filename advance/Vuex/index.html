<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuex</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/favicon.ico">
    <link rel="manifast" href="/docs/manifast.json">
    <link rel="apple-touch-icon" href="/docs/icons/192x192.png">
    <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?3a26ca38a06d9b26d6b15f8ae08bac13";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
        </script>        
        </script>
    <meta name="description" content="åšå®¢ã€æ–‡æ¡£ã€ç¬”è®°">
    <meta name="author" content="junnian">
    <meta name="keywords" content="åšå®¢,å‰ç«¯,CSS,JavaScript,HTML,Vue,TypeScript,ES6,VuePress,">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/docs/assets/css/0.styles.eb613f95.css" as="style"><link rel="preload" href="/docs/assets/js/app.c0f8f10d.js" as="script"><link rel="preload" href="/docs/assets/js/2.c2e75043.js" as="script"><link rel="preload" href="/docs/assets/js/14.fac931ae.js" as="script"><link rel="preload" href="/docs/assets/js/3.a96fac23.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.3f10c92c.js"><link rel="prefetch" href="/docs/assets/js/11.ddf57d2a.js"><link rel="prefetch" href="/docs/assets/js/12.d7b26858.js"><link rel="prefetch" href="/docs/assets/js/13.95bfb2cc.js"><link rel="prefetch" href="/docs/assets/js/15.2e13c7c7.js"><link rel="prefetch" href="/docs/assets/js/16.a253b6d5.js"><link rel="prefetch" href="/docs/assets/js/17.76439d3f.js"><link rel="prefetch" href="/docs/assets/js/18.45b31205.js"><link rel="prefetch" href="/docs/assets/js/19.03eec98f.js"><link rel="prefetch" href="/docs/assets/js/20.f2d28766.js"><link rel="prefetch" href="/docs/assets/js/21.c6faef9e.js"><link rel="prefetch" href="/docs/assets/js/22.64ed0a79.js"><link rel="prefetch" href="/docs/assets/js/23.6c7ac40e.js"><link rel="prefetch" href="/docs/assets/js/24.9253a9d7.js"><link rel="prefetch" href="/docs/assets/js/25.c674132e.js"><link rel="prefetch" href="/docs/assets/js/26.a531193b.js"><link rel="prefetch" href="/docs/assets/js/27.c8d59240.js"><link rel="prefetch" href="/docs/assets/js/28.aa9bbb3e.js"><link rel="prefetch" href="/docs/assets/js/29.85b1e681.js"><link rel="prefetch" href="/docs/assets/js/30.7a7a6fcc.js"><link rel="prefetch" href="/docs/assets/js/31.fa73150e.js"><link rel="prefetch" href="/docs/assets/js/32.94cc72d3.js"><link rel="prefetch" href="/docs/assets/js/33.136d1951.js"><link rel="prefetch" href="/docs/assets/js/4.8743d42d.js"><link rel="prefetch" href="/docs/assets/js/5.c22f32dd.js"><link rel="prefetch" href="/docs/assets/js/6.203f027d.js"><link rel="prefetch" href="/docs/assets/js/7.58542634.js"><link rel="prefetch" href="/docs/assets/js/8.000400a6.js"><link rel="prefetch" href="/docs/assets/js/9.fe73246e.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.eb613f95.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¥é—¨å‰ç«¯å¼€å‘" class="dropdown-title"><span class="title">å…¥é—¨å‰ç«¯å¼€å‘</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¥é—¨å‰ç«¯å¼€å‘" class="mobile-dropdown-title"><span class="title">å…¥é—¨å‰ç«¯å¼€å‘</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  è®¡ç®—æœºç½‘ç»œ
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  æµè§ˆå™¨åŸç†
</a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML/CSS/JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/" class="nav-link">
  RegExp
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/axios/" class="nav-link">
  Axios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯è¿›é˜¶å†…å®¹" class="dropdown-title"><span class="title">å‰ç«¯è¿›é˜¶å†…å®¹</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯è¿›é˜¶å†…å®¹" class="mobile-dropdown-title"><span class="title">å‰ç«¯è¿›é˜¶å†…å®¹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/module/" class="nav-link">
  JS module
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/Echarts/" class="nav-link">
  Echarts
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Less/Sass
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/ts/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Node.js
</a></li></ul></div></div><div class="nav-item"><a href="/docs/advance/Vuex/.html" class="nav-link">
  å‰ç«¯æ‰©å±•çŸ¥è¯†
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶å®ƒ" class="mobile-dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/aboutThis/" class="nav-link">
  å…³äºæ­¤é¡¹ç›®
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  æŒ–å‘
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  å¡«å‘
</a></li><li class="dropdown-item"><!----> <a href="/docs/other/jsReview/" class="nav-link">
  æ€æ‰‹è¿˜æ˜¯å¿è€…
</a></li></ul></div></div><div class="nav-item"><a href="/docs/Amway/" class="nav-link">
  æ¨èèµ„æº/å·¥å…· ğŸ”—
</a></div><div class="nav-item"><a href="https://github.com/mocc124" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/expand/" class="nav-link">
  æ‰©å±•
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¥é—¨å‰ç«¯å¼€å‘" class="dropdown-title"><span class="title">å…¥é—¨å‰ç«¯å¼€å‘</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¥é—¨å‰ç«¯å¼€å‘" class="mobile-dropdown-title"><span class="title">å…¥é—¨å‰ç«¯å¼€å‘</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  è®¡ç®—æœºç½‘ç»œ
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  æµè§ˆå™¨åŸç†
</a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML/CSS/JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/" class="nav-link">
  RegExp
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/axios/" class="nav-link">
  Axios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯è¿›é˜¶å†…å®¹" class="dropdown-title"><span class="title">å‰ç«¯è¿›é˜¶å†…å®¹</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯è¿›é˜¶å†…å®¹" class="mobile-dropdown-title"><span class="title">å‰ç«¯è¿›é˜¶å†…å®¹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  è®¾è®¡æ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/module/" class="nav-link">
  JS module
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/Echarts/" class="nav-link">
  Echarts
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Less/Sass
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/ts/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  Node.js
</a></li></ul></div></div><div class="nav-item"><a href="/docs/advance/Vuex/.html" class="nav-link">
  å‰ç«¯æ‰©å±•çŸ¥è¯†
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶å®ƒ" class="mobile-dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/aboutThis/" class="nav-link">
  å…³äºæ­¤é¡¹ç›®
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  æŒ–å‘
</a></li><li class="dropdown-item"><!----> <a href="/docs/advance/Vuex/.html" class="nav-link">
  å¡«å‘
</a></li><li class="dropdown-item"><!----> <a href="/docs/other/jsReview/" class="nav-link">
  æ€æ‰‹è¿˜æ˜¯å¿è€…
</a></li></ul></div></div><div class="nav-item"><a href="/docs/Amway/" class="nav-link">
  æ¨èèµ„æº/å·¥å…· ğŸ”—
</a></div><div class="nav-item"><a href="https://github.com/mocc124" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/expand/" class="nav-link">
  æ‰©å±•
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vuex</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/advance/Vuex/#_1-åŸºæœ¬ä½¿ç”¨" class="sidebar-link">1. åŸºæœ¬ä½¿ç”¨</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/advance/Vuex/#_2-vuex-æ ¸å¿ƒç†å¿µ" class="sidebar-link">2. Vuex æ ¸å¿ƒç†å¿µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/advance/Vuex/#state" class="sidebar-link">State</a></li><li class="sidebar-sub-header"><a href="/docs/advance/Vuex/#getters" class="sidebar-link">Getters</a></li><li class="sidebar-sub-header"><a href="/docs/advance/Vuex/#mutations" class="sidebar-link">Mutations</a></li><li class="sidebar-sub-header"><a href="/docs/advance/Vuex/#actions" class="sidebar-link">Actions</a></li><li class="sidebar-sub-header"><a href="/docs/advance/Vuex/#modules" class="sidebar-link">Modules</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuex"><a href="#vuex" class="header-anchor">#</a> Vuex</h1> <ol><li>æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ Vuexï¼Ÿæˆ–è€…è¯´å®ƒèƒ½å¸¦æ¥ä»€ä¹ˆï¼Ÿ</li></ol> <p>Vue ç»„ä»¶ä¸€èˆ¬æ˜¯ä½¿ç”¨â€œå•å‘æ•°æ®æµâ€ç†å¿µï¼ŒåŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p> <ul><li>stateï¼Œé©±åŠ¨åº”ç”¨çš„æ•°æ®æºï¼›</li> <li>viewï¼Œä»¥å£°æ˜æ–¹å¼å°† state æ˜ å°„åˆ°è§†å›¾ï¼›</li> <li>actionsï¼Œå“åº”åœ¨ view ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„ state å˜åŒ–ã€‚</li></ul> <p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬çš„åº”ç”¨é‡åˆ°å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€æ—¶ï¼Œå•å‘æ•°æ®æµçš„ç®€æ´æ€§å¾ˆå®¹æ˜“è¢«ç ´åï¼šå¦‚å¤šä¸ªè§†å›¾ä¾èµ–äºåŒä¸€çŠ¶æ€æˆ–è€…æ¥è‡ªä¸åŒè§†å›¾çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€ã€‚
è¿™æ—¶å¸¸è§„çš„ props ä¼ å‚å¯¹äºå…„å¼Ÿç»„ä»¶é—´çš„çŠ¶æ€ä¼ é€’æ— èƒ½ä¸ºåŠ›ï¼Œè€Œé‡‡ç”¨çˆ¶å­ç»„ä»¶ç›´æ¥å¼•ç”¨æˆ–è€…é€šè¿‡äº‹ä»¶æ¥å˜æ›´å’ŒåŒæ­¥çŠ¶æ€çš„å¤šä»½æ‹·è´æ¨¡å¼éå¸¸è„†å¼±ï¼Œé€šå¸¸ä¼šå¯¼è‡´ç»´æŠ¤è‰°éš¾ã€‚</p> <p>Vuex å€Ÿé‰´äº† Flux (opens new window)ã€Redux (opens new window)å’Œ The Elm Architecture (opens new window)çš„æ€æƒ³ï¼Œé€šè¿‡ä¸€ä¸ªå…¨å±€å•ä¾‹æ¨¡å¼ç®¡ç†å…±äº«çŠ¶æ€ï¼Œé€šè¿‡å®šä¹‰å’Œéš”ç¦»çŠ¶æ€ç®¡ç†ä¸­çš„å„ç§æ¦‚å¿µå¹¶é€šè¿‡å¼ºåˆ¶è§„åˆ™ç»´æŒè§†å›¾å’ŒçŠ¶æ€é—´çš„ç‹¬ç«‹æ€§ï¼Œæˆ‘ä»¬çš„ä»£ç å°†ä¼šå˜å¾—æ›´ç»“æ„åŒ–ä¸”æ˜“ç»´æŠ¤ã€‚</p> <p><img src="https://v3.vuex.vuejs.org/vuex.png" alt="Vuex"></p> <ol start="2"><li>ä»€ä¹ˆæ—¶é—´é€‰æ‹©ä½¿ç”¨ Vuexï¼Ÿ</li></ol> <p>Vuex ä¸€èˆ¬è¢«ç”¨åœ¨å¤§å‹å•é¡µåº”ç”¨ä¸Šï¼Œå¦‚æœåº”ç”¨è¶³å¤Ÿç®€å•ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<a href="https://v2.cn.vuejs.org/v2/guide/state-management.html#%E7%AE%80%E5%8D%95%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E8%B5%B7%E6%AD%A5%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener noreferrer">Store æ¨¡å¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å°±è¶³å¤Ÿäº†ã€‚</p> <ol start="3"><li>å‚è€ƒèµ„æ–™</li></ol> <p><a href="https://v3.vuex.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vuex ä¸­æ–‡æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€
<a href="https://scrimba.com/learn/vuex" target="_blank" rel="noopener noreferrer">Scrimba ä¸Šçš„ Vuex è¯¾ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€
<a href="https://pinia.web3doc.top/" target="_blank" rel="noopener noreferrer">Pinia|æ–°ä¸€ä»£ Vue çŠ¶æ€ç®¡ç†å·¥å…·<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-åŸºæœ¬ä½¿ç”¨"><a href="#_1-åŸºæœ¬ä½¿ç”¨" class="header-anchor">#</a> 1. åŸºæœ¬ä½¿ç”¨</h2> <p>Vuex ä¾èµ– Promiseï¼Œå¦‚æœéœ€è¦å…¼å®¹æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ª polyfill çš„åº“ï¼Œä¾‹å¦‚ <a href="https://github.com/stefanpenner/es6-promise" target="_blank" rel="noopener noreferrer">es6-promise<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚
å‚è€ƒ<a href="https://v3.vuex.vuejs.org/zh/installation.html#promise" target="_blank" rel="noopener noreferrer">Vuex Promise<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>ç¬¬ä¸€æ­¥ï¼šå®‰è£… Vuexï¼ˆçœç•¥ï¼Œè¯¦è§æ–‡æ¡£ï¼‰
ç¬¬äºŒæ­¥ï¼šé…ç½®ä½¿ç”¨
ğŸ“‚ router/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">let</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><p>ç¬¬ä¸‰æ­¥ï¼šç›´æ¥ä½¿ç”¨ Vuexï¼ˆä¸æ¨èï¼‰
ğŸ“‚ xxx.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;@/store/index&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token comment">// é€šè¿‡ store.state æ¥è·å–çŠ¶æ€å¯¹è±¡</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span> <span class="token comment">// é€šè¿‡ store.commit æ–¹æ³•è§¦å‘çŠ¶æ€å˜æ›´</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç¬¬å››æ­¥ï¼šå°†Vuexæ³¨å†Œåˆ°Vueå®ä¾‹å¯¹è±¡ä¸Šï¼ˆæ¨èï¼Œå¯çœç•¥ç¬¬ä¸‰æ­¥ï¼‰
ğŸ“‚ main.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store/index'</span>


<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    store<span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><p>é€šè¿‡ç¬¬å››æ­¥çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨å…¨éƒ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$store çš„æ–¹å¼è®¿é—®/ä¿®æ”¹å…±äº«çŠ¶æ€ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹ store.state.xxx ï¼Œè€Œæ˜¯é€šè¿‡æäº¤ mutation çš„æ–¹å¼ã€‚å› ä¸ºæˆ‘ä»¬æƒ³è¦æ›´æ˜ç¡®åœ°è¿½è¸ªåˆ°çŠ¶æ€çš„å˜åŒ–ï¼Œè€Œä¸”è¿˜å¯ä»¥å®ç°ä¿å­˜å¿«ç…§ã€è°ƒè¯•åŠŸèƒ½ç­‰ã€‚</p> <h2 id="_2-vuex-æ ¸å¿ƒç†å¿µ"><a href="#_2-vuex-æ ¸å¿ƒç†å¿µ" class="header-anchor">#</a> 2. Vuex æ ¸å¿ƒç†å¿µ</h2> <h3 id="state"><a href="#state" class="header-anchor">#</a> State</h3> <p>Vuexä½¿ç”¨äº†å•ä¸€çŠ¶æ€æ ‘çš„æ€æƒ³æ¥ç®¡ç†çŠ¶æ€ï¼Œå•ä¸€çŠ¶æ€æ ‘æŒ‡æ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ï¼Œå®ƒåŒ…å«äº†å…¨éƒ¨çš„åº”ç”¨å±‚çº§çŠ¶æ€å¹¶ä½œä¸ºä¸€ä¸ªâ€œå”¯ä¸€æ•°æ®æºï¼ˆSSOTï¼‰â€ã€‚
å•ä¸€çŠ¶æ€æ ‘çš„å¥½å¤„æ˜¯èƒ½å¤Ÿè®©æˆ‘ä»¬æœ€ç›´æ¥çš„æ–¹å¼æ‰¾åˆ°æŸä¸ªçŠ¶æ€çš„ç‰‡æ®µï¼Œä¹‹åçš„ç»´æŠ¤ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</p> <p>çŠ¶æ€çš„è¯»å–
ç”±äº Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨è®¡ç®—å±æ€§ä¸­è¿”å›æŸä¸ªçŠ¶æ€ï¼ˆç¬¬ä¸‰æ­¥ï¼‰ï¼Œ æ¯å½“ store.state.count å˜åŒ–çš„æ—¶å€™, éƒ½ä¼šé‡æ–°æ±‚å–è®¡ç®—å±æ€§ï¼Œå¹¶ä¸”è§¦å‘æ›´æ–°ç›¸å…³è”çš„ DOMã€‚
ç„¶è€Œï¼Œè¿™ç§æ¨¡å¼å¯¼è‡´ç»„ä»¶ä¾èµ–å…¨å±€çŠ¶æ€å•ä¾‹ã€‚åœ¨æ¨¡å—åŒ–çš„æ„å»ºç³»ç»Ÿä¸­ï¼Œåœ¨æ¯ä¸ªéœ€è¦ä½¿ç”¨ state çš„ç»„ä»¶ä¸­éœ€è¦é¢‘ç¹åœ°å¯¼å…¥ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•ç»„ä»¶æ—¶éœ€è¦æ¨¡æ‹ŸçŠ¶æ€ã€‚</p> <p>æ›´åŠ æ¨èå°†çŠ¶æ€ä»æ ¹ç»„ä»¶â€œæ³¨å…¥â€åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼ˆéœ€è°ƒç”¨ <code>Vue.use(Vuex)</code>ï¼‰çš„æ–¹å¼ï¼ˆç¬¬å››æ­¥ï¼‰ï¼Œé€šè¿‡åœ¨æ ¹å®ä¾‹ä¸­æ³¨å†Œ store é€‰é¡¹ï¼Œè¯¥ store å®ä¾‹ä¼šæ³¨å…¥åˆ°æ ¹ç»„ä»¶ä¸‹çš„æ‰€æœ‰å­ç»„ä»¶ä¸­ï¼Œä¸”å­ç»„ä»¶èƒ½é€šè¿‡ this.$store è®¿é—®ã€‚</p> <p>å½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€çš„æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ Vuexæä¾›äº† <strong>mapState</strong> è¾…åŠ©å‡½æ•°å¸®åŠ©ç”Ÿæˆè®¡ç®—å±æ€§ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åœ¨å•ç‹¬æ„å»ºçš„ç‰ˆæœ¬ä¸­è¾…åŠ©å‡½æ•°ä¸º Vuex.mapState</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
        <span class="token comment">// ä¼ å­—ç¬¦ä¸²å‚æ•° 'count' ç­‰åŒäº `state =&gt; state.count`</span>
        <span class="token literal-property property">countAlias</span><span class="token operator">:</span> <span class="token string">'count'</span><span class="token punctuation">,</span>
        <span class="token comment">// ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°</span>
        <span class="token function">countPlusLocalState</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>localCount
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå‰ææ˜¯å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token comment">// æ˜ å°„ this.count ä¸º store.state.count</span>
<span class="token string">'count'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢çš„ä¸¤ç§æ–¹å¼å ç”¨äº†æ•´ä¸ªcomputedè®¡ç®—å±æ€§ï¼Œå½“ç»„ä»¶è‡ªç”Ÿæœ‰è®¡ç®—å±æ€§æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½é‡‡ç”¨ä¸Šé¢çš„æ–¹å¼ã€‚
mapState å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å¯ä»¥å°†å®ƒä¸å±€éƒ¨è®¡ç®—å±æ€§æ··åˆä½¿ç”¨ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°†æ­¤å¯¹è±¡æ··å…¥åˆ°å¤–éƒ¨å¯¹è±¡ä¸­</span>
        <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="getters"><a href="#getters" class="header-anchor">#</a> Getters</h3> <p>ç°å®çš„ä¸šåŠ¡ä¸­ï¼Œä¸ä»…æ˜¯è¦è¯»å–/æäº¤çŠ¶æ€ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦ä» state ä¸­æ´¾ç”Ÿå‡ºä¸€äº›çŠ¶æ€ï¼Œä¾‹å¦‚å¯¹åˆ—è¡¨è¿›è¡Œè¿‡æ»¤å¹¶è®¡æ•°ï¼Œå½“ç„¶æ¶é­”å¯ä»¥å°è£…ä¸€ä¸ªå‡½æ•°æ¥è¯»å–stateçŠ¶æ€åå†å¤„ç†è¿™äº›çŠ¶æ€å±æ€§ã€‚</p> <p>ä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªç»„ä»¶éœ€è¦ç”¨åˆ°æ­¤å±æ€§ï¼Œæˆ‘ä»¬è¦ä¹ˆå¤åˆ¶è¿™ä¸ªå‡½æ•°ï¼Œæˆ–è€…æŠ½å–åˆ°ä¸€ä¸ªå…±äº«å‡½æ•°ç„¶ååœ¨å¤šå¤„å¯¼å…¥å®ƒã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸æ˜¯å¾ˆä¼˜é›…ï¼ã€</p> <p>Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p> <p>ğŸ“‚ store/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">todos</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// Getter æ¥å— state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼š</span>
        <span class="token function-variable function">doneTodos</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Getter ä¼šæš´éœ²ä¸º store.getters å¯¹è±¡ï¼Œå¯ä»¥ä»¥å±æ€§çš„å½¢å¼è®¿é—®è¿™äº›å€¼ï¼Œå¦‚<code>this.$store.getters.doneTodo</code>ã€‚</p> <p>ä¸ä»…å¦‚æ­¤ï¼ŒGetter ä¹Ÿå¯ä»¥æ¥å—å…¶ä»– getter ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token function-variable function">doneTodosCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> getters<span class="token punctuation">.</span>doneTodos<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢æ˜¯å±æ€§è®¿é—®çš„æ–¹å¼ï¼Œå½“éœ€è¦ç»™ getters ä¼ å‚æ—¶ï¼Œå¯ä»¥é€šè¿‡è®© getter è¿”å›ä¸€ä¸ªå‡½æ•°,å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token function-variable function">getTodoById</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è®¿é—®æ—¶éœ€è¦æºå¸¦å‚æ•°è®¿é—®:<code>store.getters.getTodoById(2)</code>ã€‚</p> <p>æ³¨æ„ï¼šå½“ getter åœ¨é€šè¿‡æ–¹æ³•è®¿é—®æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šè¿›è¡Œè°ƒç”¨ï¼Œè€Œä¸ä¼šç¼“å­˜ç»“æœã€‚</p> <p>mapGetters è¾…åŠ©å‡½æ•°ä¼šå°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...  </span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getter æ··å…¥ computed å¯¹è±¡ä¸­</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'doneTodosCount'</span><span class="token punctuation">,</span>
      <span class="token string">'anotherGetter'</span><span class="token punctuation">,</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡å½¢å¼ï¼Œéšä¾¿å°†ä¸€ä¸ª getter å±æ€§å¦å–ä¸€ä¸ªåå­—ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">doneCount</span><span class="token operator">:</span> <span class="token string">'doneTodosCount'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="mutations"><a href="#mutations" class="header-anchor">#</a> Mutations</h3> <p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚
Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚
è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å˜æ›´çŠ¶æ€</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½†æ”¹å˜çŠ¶æ€ä¸èƒ½ç›´æ¥è°ƒç”¨ä¸€ä¸ª mutation handlerã€‚è¿™ä¸ªé€‰é¡¹æ›´åƒæ˜¯äº‹ä»¶æ³¨å†Œï¼šâ€œå½“è§¦å‘ä¸€ä¸ªç±»å‹ä¸º increment çš„ mutation æ—¶ï¼Œè°ƒç”¨æ­¤å‡½æ•°ã€‚
â€è¦å”¤é†’ä¸€ä¸ª mutation handlerï¼Œä½ éœ€è¦ä»¥ç›¸åº”çš„ type è°ƒç”¨ store.commit æ–¹æ³•ï¼š<code>store.commit('increment')</code></p> <p>å½“è°ƒç”¨store.commitæ–¹æ³•æ—¶ä¼ å…¥é¢å¤–å‚æ•°ï¼Œå³ mutation çš„ è½½è·ï¼ˆpayloadï¼‰ï¼Œä¸€èˆ¬æ¥è¯´è½½è·åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå¹¶ä¸”è®°å½•çš„ mutation ä¼šæ›´æ˜“è¯»ï¼š</p> <p>ğŸ“‚ store/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count <span class="token operator">+=</span> payload<span class="token punctuation">.</span>amount
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ“‚ xxx.vue</p> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>mutation æäº¤é£æ ¼è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ï¼Œç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼Œ</p> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'increment'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ä½¿ç”¨å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ï¼Œæ•´ä¸ªå¯¹è±¡éƒ½ä½œä¸ºè½½è·ä¼ ç»™ mutation å‡½æ•°ï¼Œå› æ­¤ handler ä¿æŒä¸å˜ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count <span class="token operator">+=</span> payload<span class="token punctuation">.</span>amount
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ—¢ç„¶ Vuex çš„ store ä¸­çš„çŠ¶æ€æ˜¯å“åº”å¼çš„ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬å˜æ›´çŠ¶æ€æ—¶ï¼Œç›‘è§†çŠ¶æ€çš„ Vue ç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ã€‚
è¿™ä¹Ÿæ„å‘³ç€ Vuex ä¸­çš„ mutation ä¹Ÿéœ€è¦ä¸ä½¿ç”¨ Vue ä¸€æ ·éµå®ˆä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p> <ol><li><p>æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚</p></li> <li><p>å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥</p> <ul><li>ä½¿ç”¨ Vue.set(obj, key, value), æˆ–è€…</li> <li>ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚å¦‚ï¼Œåˆ©ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦è¿™æ ·å†™ï¼š<code>state.obj = { ...state.obj, newProp: 123 }</code></li></ul></li> <li><p>mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°,mutation ä¸­æ··åˆå¼‚æ­¥è°ƒç”¨ä¼šå¯¼è‡´ç¨‹åºæ··ä¹±ï¼Œè°ƒè¯•å›°éš¾ã€‚å¦‚æœç¡®å®éœ€è¦å¼‚æ­¥æ“ä½œè¯·å‚è€ƒ <a href="https://v3.vuex.vuejs.org/zh/guide/actions.html#%E5%88%86%E5%8F%91-action" target="_blank" rel="noopener noreferrer">Action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></li></ol> <p>æäº¤ mutation çš„æ–¹å¼é™¤äº† <code>this.$store.commit('xxx')</code>æäº¤ mutationï¼Œæˆ–è€…ä½¿ç”¨ mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º store.commit è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token comment">// å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit('increment')`</span>

      <span class="token comment">// `mapMutations` ä¹Ÿæ”¯æŒè½½è·ï¼š</span>
      <span class="token string">'incrementBy'</span> <span class="token comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.commit('incrementBy', amount)`</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">add</span><span class="token operator">:</span> <span class="token string">'increment'</span> <span class="token comment">// å°† `this.add()` æ˜ å°„ä¸º `this.$store.commit('increment')`</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="actions"><a href="#actions" class="header-anchor">#</a> Actions</h3> <p>ä¸Šé¢è¯´ mutation å¿…é¡»æ˜¯ä¸ªåŒæ­¥å‡½æ•°ï¼Œè¿™æ˜¯å› ä¸ºè°ƒç”¨äº†åŒ…å«å¼‚æ­¥å›è°ƒçš„ mutation æ¥æ”¹å˜çŠ¶æ€ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å›è°ƒä¼šè¢«æ‰§è¡Œï¼Ÿ</p> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
<span class="token comment">// ä»»ä½•ç”± &quot;increment&quot; å¯¼è‡´çš„çŠ¶æ€å˜æ›´éƒ½åº”è¯¥åœ¨æ­¤åˆ»å®Œæˆã€‚</span>
</code></pre></div><p>å¦‚æœç¡®å®éœ€è¦å¼‚æ­¥æ“ä½œï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä½¿ç”¨ Mutationï¼Œæ¨èä½¿ç”¨ Actionï¼ŒAction ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p> <ul><li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li> <li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li></ul> <p>Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥è°ƒç”¨ context.commit æäº¤ä¸€ä¸ª mutationï¼Œ
æˆ–è€…é€šè¿‡ context.state å’Œ context.getters æ¥è·å– state å’Œ gettersã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function">incrementAsync</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
           <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å®è·µä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ç”¨åˆ°å‚æ•°è§£æ„æ¥ç®€åŒ–ä»£ç ï¼ˆç‰¹åˆ«æ˜¯æˆ‘ä»¬éœ€è¦è°ƒç”¨ commit å¾ˆå¤šæ¬¡çš„æ—¶å€™ï¼‰ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         state<span class="token punctuation">.</span>count<span class="token operator">++</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">incrementAsync</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Action é€šè¿‡ store.dispatch æ–¹æ³•è§¦å‘ï¼š<code>store.dispatch('increment')</code>,</p> <p>Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼å’Œå¯¹è±¡æ–¹å¼è¿›è¡Œåˆ†å‘ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä»¥è½½è·å½¢å¼åˆ†å‘</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'incrementAsync'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ä»¥å¯¹è±¡å½¢å¼åˆ†å‘</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'incrementAsync'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™æ˜¯ä¸€ä¸ªè´­ç‰©è½¦çš„å®ä¾‹ï¼š
ğŸ“‚ mutation-types.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">CHECKOUT_REQUEST</span> <span class="token operator">=</span> <span class="token string">&quot;CHECKOUT_REQUEST&quot;</span>
<span class="token keyword">const</span> <span class="token constant">CHECKOUT_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&quot;CHECKOUT_SUCCESS&quot;</span>
<span class="token keyword">const</span> <span class="token constant">CHECKOUT_FAILURE</span> <span class="token operator">=</span> <span class="token string">&quot;CHECKOUT_FAILURE&quot;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token constant">CHECKOUT_REQUEST</span><span class="token punctuation">,</span><span class="token constant">CHECKOUT_SUCCESS</span><span class="token punctuation">,</span><span class="token constant">CHECKOUT_FAILURE</span><span class="token punctuation">}</span>
</code></pre></div><p>ğŸ“‚ store/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span><span class="token constant">CHECKOUT_REQUEST</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*...*/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token constant">CHECKOUT_SUCCESS</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*...*/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token constant">CHECKOUT_FAILURE</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">cardItems</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*...*/</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">checkout</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit<span class="token punctuation">,</span> state <span class="token punctuation">}</span><span class="token punctuation">,</span> products</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// æŠŠå½“å‰è´­ç‰©è½¦çš„ç‰©å“å¤‡ä»½èµ·æ¥</span>
         <span class="token keyword">const</span> savedCartItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span>added<span class="token punctuation">]</span>
         <span class="token comment">// å‘å‡ºç»“è´¦è¯·æ±‚ï¼Œç„¶åä¹è§‚åœ°æ¸…ç©ºè´­ç‰©è½¦</span>
         <span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">CHECKOUT_REQUEST</span><span class="token punctuation">)</span>
         <span class="token comment">// è´­ç‰© API æ¥å—ä¸€ä¸ªæˆåŠŸå›è°ƒå’Œä¸€ä¸ªå¤±è´¥å›è°ƒ</span>
         shop<span class="token punctuation">.</span><span class="token function">buyProducts</span><span class="token punctuation">(</span>
                 products<span class="token punctuation">,</span>
                 <span class="token comment">// æˆåŠŸæ“ä½œ</span>
                 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">CHECKOUT_SUCCESS</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 <span class="token comment">// å¤±è´¥æ“ä½œ</span>
                 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">CHECKOUT_FAILURE</span><span class="token punctuation">,</span> savedCartItems<span class="token punctuation">)</span>
         <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ this.$store.dispatch('xxx') åˆ†å‘ actionï¼Œä½†Vuex ä¹Ÿæä¾›äº†è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„ methods æ˜ å°„ä¸º store.dispatch è°ƒç”¨ï¼ˆéœ€è¦å…ˆåœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token comment">// å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`</span>

      <span class="token comment">// `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š</span>
      <span class="token string">'incrementBy'</span> <span class="token comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.dispatch('incrementBy', amount)`</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">add</span><span class="token operator">:</span> <span class="token string">'increment'</span> <span class="token comment">// å°† `this.add()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Action é€šå¸¸è¢«ç”¨æ¥å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œè€Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦åœ¨Aå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œåï¼Œå¤„ç†Bå¼‚æ­¥ä»»åŠ¡ç­‰ç­‰ï¼Œ
å› æ­¤ store.dispatch è¢«è®¾è®¡å¯ä»¥å¤„ç†è¢«è§¦å‘çš„ action çš„å¤„ç†å‡½æ•°è¿”å›çš„ Promiseï¼Œå¹¶ä¸” store.dispatch ä»æ—§è¿”å› Promiseï¼š</p> <p>ğŸ“‚ store/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token comment">// ...</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">actionA</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
               <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'someMutation'</span><span class="token punctuation">)</span>
               <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">actionB</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'actionA'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'someOtherMutation'</span><span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ“‚ xxx.vue</p> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'actionB'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ async / awaitï¼Œæˆ‘ä»¬å¯ä»¥å¦‚ä¸‹ç»„åˆ actionï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‡è®¾ getData() å’Œ getOtherData() è¿”å›çš„æ˜¯ Promise</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">gotData</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">gotOtherData</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">async</span> <span class="token function">actionA</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'gotData'</span><span class="token punctuation">,</span> <span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">async</span> <span class="token function">actionB</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'actionA'</span><span class="token punctuation">)</span> <span class="token comment">// ç­‰å¾… actionA å®Œæˆ</span>
         <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'gotOtherData'</span><span class="token punctuation">,</span> <span class="token keyword">await</span> <span class="token function">getOtherData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="modules"><a href="#modules" class="header-anchor">#</a> Modules</h3> <p>ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚</p> <p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> moduleA<span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> moduleB
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>a <span class="token comment">// -&gt; moduleA çš„çŠ¶æ€</span>
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>b <span class="token comment">// -&gt; moduleB çš„çŠ¶æ€</span>
</code></pre></div><p>æ¨¡å—å†…éƒ¨çš„ mutation å’Œ getterï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€å¯¹è±¡ï¼ˆcontext.stateï¼‰ã€‚
å¯¹äºæ¨¡å—å†…éƒ¨çš„ action/getterï¼Œå±€éƒ¨çŠ¶æ€é€šè¿‡ context.state æš´éœ²å‡ºæ¥ï¼Œæ ¹èŠ‚ç‚¹çŠ¶æ€åˆ™ä¸º context.rootStateï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¿™é‡Œçš„ `state` å¯¹è±¡æ˜¯æ¨¡å—çš„å±€éƒ¨çŠ¶æ€</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">doubleCount</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token comment">// æ³¨æ„ï¼šè¿™é‡Œçš„æ ¹èŠ‚ç‚¹çŠ¶æ€ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°æš´éœ²å‡ºæ¥ï¼Œè€Œä¸æ˜¯å‚æ•°è§£æ„å‡ºæ¥çš„</span>
    <span class="token function">sumWithRootCount</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> rootState<span class="token punctuation">.</span>count
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function">incrementIfOddOnRootSum</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> state<span class="token punctuation">,</span> commit<span class="token punctuation">,</span> rootState <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> rootState<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter æ˜¯æ³¨å†Œåœ¨å…¨å±€å‘½åç©ºé—´ã€‚
å¯ä»¥é€šè¿‡æ·»åŠ  <code>namespaced: true</code> çš„æ–¹å¼ä½¿å…¶æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ã€‚
å¯ç”¨äº†å‘½åç©ºé—´çš„ getter å’Œ action ä¼šæ”¶åˆ°å±€éƒ¨åŒ–çš„ getterï¼Œdispatch å’Œ commitã€‚
å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚
ğŸ“‚ store/modules/myPage.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
   <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">firstname</span><span class="token operator">:</span> <span class="token string">&quot;Monica&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lastname</span><span class="token operator">:</span> <span class="token string">&quot;Geller&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">23</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> state<span class="token punctuation">.</span>firstname<span class="token operator">+</span>state<span class="token punctuation">.</span>lastname
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{</span>
       <span class="token function">ageIncrement</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">{</span>
       <span class="token function">asyncAgeIncrement</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
              state<span class="token punctuation">.</span>age <span class="token operator">+=</span> value
           <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸ“‚ store/modules/posts.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
   <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">popular</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; getters['account/posts/popular']</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸ“‚ store/modules/account.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> myPage <span class="token keyword">from</span> <span class="token string">&quot;./modules/myPage.js&quot;</span>
<span class="token keyword">import</span> posts <span class="token keyword">from</span> <span class="token string">&quot;./modules/posts.js&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

   <span class="token comment">// æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰</span>
   <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ¨¡å—å†…çš„çŠ¶æ€å·²ç»æ˜¯åµŒå¥—çš„äº†ï¼Œä½¿ç”¨ `namespaced` å±æ€§ä¸ä¼šå¯¹å…¶äº§ç”Ÿå½±å“</span>
   <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">isAdmin</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; getters['account/isAdmin']</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; dispatch('account/login')</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; commit('account/login')</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>

   <span class="token comment">// åµŒå¥—æ¨¡å—</span>
   <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      myPage<span class="token punctuation">,</span> <span class="token comment">// ç»§æ‰¿çˆ¶æ¨¡å—çš„å‘½åç©ºé—´</span>
      posts<span class="token punctuation">,</span><span class="token comment">// è¿›ä¸€æ­¥åµŒå¥—å‘½åç©ºé—´</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸ“‚ store/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> account <span class="token keyword">from</span> <span class="token string">&quot;./modules/account.js&quot;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    account<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ“‚ xxx.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span>mapActions<span class="token punctuation">,</span>mapGetters<span class="token punctuation">,</span>mapMutations<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span>  <span class="token punctuation">{</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'myPage'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'myPage'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'fullName'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> 
   <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'myPage'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>ageIncrement<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'myPage'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>asyncAgeIncrement<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç›´æ¥è·å–æ•°æ®ï¼š</p> <ul><li>state ï¼š<code>$store.state.æ¨¡å—å.stateå±æ€§å</code></li> <li>getter: <code>$store.getters['æ¨¡å—å/getterå±æ€§å']</code></li> <li>mutationï¼š<code>$store.commit('æ¨¡å—å/mutationå')</code></li> <li>actionï¼š<code>$store.dispatch('æ¨¡å—å/actionå')</code></li></ul> <p>å¦‚æœä½ å¸Œæœ›åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ï¼ŒrootState å’Œ rootGetters ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥ getterï¼Œä¹Ÿä¼šé€šè¿‡ context å¯¹è±¡çš„å±æ€§ä¼ å…¥ actionã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
       <span class="token function">someGetter</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootState<span class="token punctuation">,</span> rootGetters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">someAction</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootGetters <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è‹¥éœ€è¦åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ actionï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ this.$store. ï¼Œä½ å¯æ·»åŠ  root: trueï¼Œå¹¶å°†è¿™ä¸ª action çš„å®šä¹‰æ”¾åœ¨å‡½æ•° handler ä¸­ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">someOtherAction</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'someAction'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
         <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">someAction</span><span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// å¿…é¡»ä¸º true æ‰èƒ½æ³¨å†Œåˆ°å…¨å±€</span>
               <span class="token function">handler</span> <span class="token punctuation">(</span><span class="token parameter">namespacedContext<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// namespacedContext å°±æ˜¯ action ä¸­çš„ Context å‚æ•°</span>
               <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å½“ä½¿ç”¨ mapStateã€mapGettersã€mapActions å’Œ mapMutations è¾…åŠ©å‡½æ•°ç»‘å®šå¸¦å‘½åç©ºé—´çš„æ¨¡å—æ—¶ï¼Œå†™èµ·æ¥å¯èƒ½æ¯”è¾ƒç¹çï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span>  <span class="token punctuation">{</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
         <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>some<span class="token punctuation">.</span>nested<span class="token punctuation">.</span>module<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
         <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>some<span class="token punctuation">.</span>nested<span class="token punctuation">.</span>module<span class="token punctuation">.</span>b
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
         <span class="token string">'some/nested/module/someGetter'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this['some/nested/module/someGetter']</span>
         <span class="token string">'some/nested/module/someOtherGetter'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this['some/nested/module/someOtherGetter']</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
         <span class="token string">'some/nested/module/foo'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this['some/nested/module/foo']()</span>
         <span class="token string">'some/nested/module/bar'</span> <span class="token comment">// -&gt; this['some/nested/module/bar']()</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æœ‰ä¸€ç§ç®€åŒ–å†™æ³•ï¼šå°†æ¨¡å—çš„ç©ºé—´åç§°å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸Šè¿°å‡½æ•°ï¼Œè¿™æ ·æ‰€æœ‰ç»‘å®šéƒ½ä¼šè‡ªåŠ¨å°†è¯¥æ¨¡å—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span>  <span class="token punctuation">{</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'some/nested/module'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
         <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
         <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>b
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'some/nested/module'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
         <span class="token string">'someGetter'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this.someGetter</span>
         <span class="token string">'someOtherGetter'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this.someOtherGetter</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'some/nested/module'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
         <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this.foo()</span>
         <span class="token string">'bar'</span> <span class="token comment">// -&gt; this.bar()</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿˜æœ‰ä¸€ç§åŠæ³•æ˜¯é€šè¿‡ä½¿ç”¨ createNamespacedHelpers åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•°ã€‚
å®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰æ–°çš„ç»‘å®šåœ¨ç»™å®šå‘½åç©ºé—´å€¼ä¸Šçš„ç»„ä»¶ç»‘å®šè¾…åŠ©å‡½æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createNamespacedHelpers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">'some/nested/module'</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ `some/nested/module` ä¸­æŸ¥æ‰¾</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
      <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>b
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ `some/nested/module` ä¸­æŸ¥æ‰¾</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'foo'</span><span class="token punctuation">,</span>
      <span class="token string">'bar'</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åä¸€æ¬¡æ›´æ–°:</span> <span class="time">1/8/2023, 1:58:51 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.c0f8f10d.js" defer></script><script src="/docs/assets/js/2.c2e75043.js" defer></script><script src="/docs/assets/js/14.fac931ae.js" defer></script><script src="/docs/assets/js/3.a96fac23.js" defer></script>
  </body>
</html>
