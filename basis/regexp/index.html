<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/favicon.ico">
    <link rel="manifast" href="/docs/manifast.json">
    <link rel="apple-touch-icon" href="/docs/icons/192x192.png">
    <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?3a26ca38a06d9b26d6b15f8ae08bac13";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
        </script>        
        </script>
    <meta name="description" content="博客、文档、笔记">
    <meta name="author" content="junnian">
    <meta name="keywords" content="博客,前端,CSS,JavaScript,HTML,Vue,TypeScript,ES6,VuePress,">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/docs/assets/css/0.styles.eb613f95.css" as="style"><link rel="preload" href="/docs/assets/js/app.c0f8f10d.js" as="script"><link rel="preload" href="/docs/assets/js/2.c2e75043.js" as="script"><link rel="preload" href="/docs/assets/js/26.a531193b.js" as="script"><link rel="preload" href="/docs/assets/js/3.a96fac23.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.3f10c92c.js"><link rel="prefetch" href="/docs/assets/js/11.ddf57d2a.js"><link rel="prefetch" href="/docs/assets/js/12.d7b26858.js"><link rel="prefetch" href="/docs/assets/js/13.95bfb2cc.js"><link rel="prefetch" href="/docs/assets/js/14.fac931ae.js"><link rel="prefetch" href="/docs/assets/js/15.2e13c7c7.js"><link rel="prefetch" href="/docs/assets/js/16.a253b6d5.js"><link rel="prefetch" href="/docs/assets/js/17.76439d3f.js"><link rel="prefetch" href="/docs/assets/js/18.45b31205.js"><link rel="prefetch" href="/docs/assets/js/19.03eec98f.js"><link rel="prefetch" href="/docs/assets/js/20.f2d28766.js"><link rel="prefetch" href="/docs/assets/js/21.c6faef9e.js"><link rel="prefetch" href="/docs/assets/js/22.64ed0a79.js"><link rel="prefetch" href="/docs/assets/js/23.6c7ac40e.js"><link rel="prefetch" href="/docs/assets/js/24.9253a9d7.js"><link rel="prefetch" href="/docs/assets/js/25.c674132e.js"><link rel="prefetch" href="/docs/assets/js/27.c8d59240.js"><link rel="prefetch" href="/docs/assets/js/28.aa9bbb3e.js"><link rel="prefetch" href="/docs/assets/js/29.85b1e681.js"><link rel="prefetch" href="/docs/assets/js/30.7a7a6fcc.js"><link rel="prefetch" href="/docs/assets/js/31.fa73150e.js"><link rel="prefetch" href="/docs/assets/js/32.94cc72d3.js"><link rel="prefetch" href="/docs/assets/js/33.136d1951.js"><link rel="prefetch" href="/docs/assets/js/4.8743d42d.js"><link rel="prefetch" href="/docs/assets/js/5.c22f32dd.js"><link rel="prefetch" href="/docs/assets/js/6.203f027d.js"><link rel="prefetch" href="/docs/assets/js/7.58542634.js"><link rel="prefetch" href="/docs/assets/js/8.000400a6.js"><link rel="prefetch" href="/docs/assets/js/9.fe73246e.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.eb613f95.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="入门前端开发" class="dropdown-title"><span class="title">入门前端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="入门前端开发" class="mobile-dropdown-title"><span class="title">入门前端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML/CSS/JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  RegExp
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/axios/" class="nav-link">
  Axios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶内容" class="dropdown-title"><span class="title">前端进阶内容</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端进阶内容" class="mobile-dropdown-title"><span class="title">前端进阶内容</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/module/" class="nav-link">
  JS module
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/Echarts/" class="nav-link">
  Echarts
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Less/Sass
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/ts/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Node.js
</a></li></ul></div></div><div class="nav-item"><a href="/docs/basis/regexp/.html" class="nav-link">
  前端扩展知识
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/aboutThis/" class="nav-link">
  关于此项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  挖坑
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  填坑
</a></li><li class="dropdown-item"><!----> <a href="/docs/other/jsReview/" class="nav-link">
  杀手还是忍者
</a></li></ul></div></div><div class="nav-item"><a href="/docs/Amway/" class="nav-link">
  推荐资源/工具 🔗
</a></div><div class="nav-item"><a href="https://github.com/mocc124" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/expand/" class="nav-link">
  扩展
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="入门前端开发" class="dropdown-title"><span class="title">入门前端开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="入门前端开发" class="mobile-dropdown-title"><span class="title">入门前端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML/CSS/JavaScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  RegExp
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/axios/" class="nav-link">
  Axios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶内容" class="dropdown-title"><span class="title">前端进阶内容</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端进阶内容" class="mobile-dropdown-title"><span class="title">前端进阶内容</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/module/" class="nav-link">
  JS module
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/Echarts/" class="nav-link">
  Echarts
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Less/Sass
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/docs/Broad/ts/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  Node.js
</a></li></ul></div></div><div class="nav-item"><a href="/docs/basis/regexp/.html" class="nav-link">
  前端扩展知识
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/aboutThis/" class="nav-link">
  关于此项目
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  挖坑
</a></li><li class="dropdown-item"><!----> <a href="/docs/basis/regexp/.html" class="nav-link">
  填坑
</a></li><li class="dropdown-item"><!----> <a href="/docs/other/jsReview/" class="nav-link">
  杀手还是忍者
</a></li></ul></div></div><div class="nav-item"><a href="/docs/Amway/" class="nav-link">
  推荐资源/工具 🔗
</a></div><div class="nav-item"><a href="https://github.com/mocc124" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/expand/" class="nav-link">
  扩展
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>正则表达式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/basis/regexp/#一、模式和修饰符" class="sidebar-link">一、模式和修饰符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_1-创建正则表达式对象" class="sidebar-link">1. 创建正则表达式对象</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_2-修饰符" class="sidebar-link">2. 修饰符</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_3-搜索-str-match" class="sidebar-link">3. 搜索：str.match</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_4-替换-str-replace" class="sidebar-link">4. 替换：str.replace</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_5-测试-regexp-test" class="sidebar-link">5. 测试：regexp.test</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_6-总结" class="sidebar-link">6. 总结</a></li></ul></li><li><a href="/docs/basis/regexp/#二、字符类" class="sidebar-link">二、字符类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_1-常用字符类" class="sidebar-link">1. 常用字符类</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_2-反向类" class="sidebar-link">2.反向类</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_3-通配符-与修饰符-s" class="sidebar-link">3. 通配符 . 与修饰符 s</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_4-总结" class="sidebar-link">4. 总结</a></li></ul></li><li><a href="/docs/basis/regexp/#三、unicode-修饰符-u-和类-p" class="sidebar-link">三、Unicode: 修饰符 &quot;u&quot; 和类 \p{...}</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_1-修饰符-u" class="sidebar-link">1. 修饰符 &quot;u&quot;</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_2-unicode-属性-p" class="sidebar-link">2. Unicode 属性 \p{…}</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#_3-总结" class="sidebar-link">3. 总结</a></li></ul></li><li><a href="/docs/basis/regexp/#四、锚点-字符串开始-和末尾" class="sidebar-link">四、锚点：字符串开始^和末尾$</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/basis/regexp/#五、锚点-的多行模式-修饰符-m" class="sidebar-link">五、锚点 ^ $ 的多行模式，修饰符 &quot;m&quot;</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/basis/regexp/#六、词边界" class="sidebar-link">六、词边界</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/basis/regexp/#七、转义-特殊字符" class="sidebar-link">七、转义,特殊字符</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/basis/regexp/#八、集合和范围" class="sidebar-link">八、集合和范围</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/basis/regexp/#九、量词-和-n" class="sidebar-link">九、量词 +, *, ? 和 {n}</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/basis/regexp/#十-量词的匹配模式" class="sidebar-link">十 量词的匹配模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#贪婪模式-默认" class="sidebar-link">贪婪模式（默认）</a></li><li class="sidebar-sub-header"><a href="/docs/basis/regexp/#惰性模式" class="sidebar-link">惰性模式</a></li></ul></li><li><a href="/docs/basis/regexp/#未完-待后续补充" class="sidebar-link">未完 待后续补充</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h1> <h2 id="一、模式和修饰符"><a href="#一、模式和修饰符" class="header-anchor">#</a> 一、模式和修饰符</h2> <p>正则表达式是提供了在文本中进行搜索和替换的强大的方式的模式。在 JavaScript 中，我们可以通过 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer">RegExp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对象使用它们，也可以与字符串方法结合使用。</p> <h3 id="_1-创建正则表达式对象"><a href="#_1-创建正则表达式对象" class="header-anchor">#</a> 1. 创建正则表达式对象</h3> <p>方式 1：使用 new 关键字创建</p> <div class="language-js extra-class"><pre class="language-js"><code>regexp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;pattern&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;flags&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>方式 2：使用斜线 &quot;/&quot;,字面量的方式</p> <div class="language-js extra-class"><pre class="language-js"><code>regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">pattern</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token comment">// 没有修饰符</span>
regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">pattern</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gim</span></span><span class="token punctuation">;</span> <span class="token comment">// 带有修饰符 g、m 和 i（后面会讲到）</span>
</code></pre></div><p>斜线 <code>/.../</code>告诉 JavaScript 这是一个正则表达式。它的作用与字符串引号的作用相同。</p> <p>上面这两种情况，regexp 都会成为内建类 RegExp 的一个实例。</p> <p>这两种语法之间的主要区别在于，使用斜线的模式不允许插入表达式（如带有 ${...} 的字符串模板）。它是完全静态的。</p> <h3 id="_2-修饰符"><a href="#_2-修饰符" class="header-anchor">#</a> 2. 修饰符</h3> <p>在 JavaScript 中，有 6 个修饰符：</p> <table><thead><tr><th>修饰符</th> <th>作用</th></tr></thead> <tbody><tr><td>i</td> <td>搜索时不区分大小写：A 和 a 之间没有区别</td></tr> <tr><td>g</td> <td>搜索时会寻找所有的匹配项 —— 没有它，则仅返回第一个匹配项。</td></tr> <tr><td>m</td> <td>多行模式</td></tr> <tr><td>s</td> <td>启用 “dotall” 模式，允许点 . 匹配换行符 \n</td></tr> <tr><td>u</td> <td>开启完整的 Unicode 支持。该修饰符能够正确处理代理对</td></tr> <tr><td>y</td> <td>粘滞模式</td></tr></tbody></table> <h3 id="_3-搜索-str-match"><a href="#_3-搜索-str-match" class="header-anchor">#</a> 3. 搜索：str.match</h3> <p>str.match(regexp) 方法会在字符串 str 中寻找 regexp 的所有匹配项。</p> <p>它有 3 种工作模式：</p> <p>如果正则表达式具有修饰符 g，它返回一个由所有匹配项所构成的数组：
如果没有这样的修饰符，它则会以数组形式返回第一个匹配项，索引 0 处保存着完整的匹配项，返回的结果的属性中还有一些其他详细信息：
最后，如果没有匹配项，则返回 null（无论是否有修饰符 g）。</p> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span>
  <span class="token string">&quot;Anything that can be written in JavaScript will eventually be written in JavaScript.&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> green <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">JavaScript</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'JavaScript', 'JavaScript' ]);</span>

green <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">JavaScript</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>green<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// JavaScript</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>green<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>green<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 32</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>green<span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Anything that can be written ...</span>

green <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">HTML</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre></div><h3 id="_4-替换-str-replace"><a href="#_4-替换-str-replace" class="header-anchor">#</a> 4. 替换：str.replace</h3> <p>str.replace(regexp, replacement) 方法使用 replacement 替换在字符串 str 中找到的 regexp 的匹配项（如果带有修饰符 g 则替换所有匹配项，否则只替换第一个）。</p> <p>注意：第二个参数 replacement 中，我们可以在其中使用特殊的字符组合来对匹配项进行插入：</p> <table><thead><tr><th>符号</th> <th>在替换字符串中的行为</th></tr></thead> <tbody><tr><td>$&amp;</td> <td>插入整个匹配项</td></tr> <tr><td>$`</td> <td>插入字符串中匹配项之前的字符串部分</td></tr> <tr><td>$'</td> <td>插入字符串中匹配项之后的字符串部分</td></tr> <tr><td>$n</td> <td>如果 n 是一个 1-2 位的数字，则插入第 n 个分组的内容</td></tr> <tr><td><code>$&lt;name&gt;</code></td> <td>插入带有给定 name 的括号内的内容</td></tr> <tr><td><code>$$</code></td> <td>插入字符 $</td></tr></tbody></table> <p>示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;I am accustomed to using JavaScript.&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> replaceStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">JavaScript</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$&amp; and HTML&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>replaceStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// I am accustomed to using JavaScript and HTML.</span>
</code></pre></div><h3 id="_5-测试-regexp-test"><a href="#_5-测试-regexp-test" class="header-anchor">#</a> 5. 测试：regexp.test</h3> <p>regexp.test(str) 方法寻找至少一个匹配项，如果找到了，则返回 true，否则返回 false。</p> <h3 id="_6-总结"><a href="#_6-总结" class="header-anchor">#</a> 6. 总结</h3> <p>正则表达式由模式和可选择修饰符构成：g、i、m、u、s 和 y。
没有修饰符和特殊符号（稍后我们会学到），那么正则表达式的搜索和子字符串的搜索相同。
str.match(regexp) 方法寻找匹配项：如果带有修饰符 g，则会返回所有匹配项，否则只会返回第一个匹配项。
str.replace(regexp, replacement) 方法使用 replacement 替换 regexp 的匹配项：如果带有修饰符 g，则会替换所有匹配项，否则只会替换第一个匹配项。
regexp.test(str) 方法用于测试，如果找到至少一个匹配项则返回 true，否则返回 false。</p> <h2 id="二、字符类"><a href="#二、字符类" class="header-anchor">#</a> 二、字符类</h2> <p>字符类（Character classes） 是一种特殊的符号，匹配特定集合中的任何符号。</p> <h3 id="_1-常用字符类"><a href="#_1-常用字符类" class="header-anchor">#</a> 1. 常用字符类</h3> <p>最常用的字符类：</p> <table><thead><tr><th>字符类</th> <th>说明</th></tr></thead> <tbody><tr><td>\d（“d” 来自 “digit”）</td> <td>数字：从 0 到 9 的字符</td></tr> <tr><td>\s（“s” 来自 “space”）</td> <td>空格符号：包括空格，制表符 \t，换行符 \n 和其他少数稀有字符</td></tr> <tr><td>\w（“w” 来自 “word”）</td> <td>“单字”字符：拉丁字母或数字或下划线 _</td></tr></tbody></table> <p>例如，<code>\d\s\w</code> 表示“数字”，后跟“空格字符”，后跟“单字字符”，例如 <code>1 a</code>。
正则表达式也可能同时包含常规符号和字符类,如 /CSS\d/ 匹配<code>CSS1</code>、<code>CSS2</code>、<code>CSS3</code>等等
字符类也可以连用，如/\w\w\w\s\d/ 匹配<code>CSS 1</code>、<code>tom 2</code>、<code>abc 3</code>等等</p> <h3 id="_2-反向类"><a href="#_2-反向类" class="header-anchor">#</a> 2.反向类</h3> <p>对于每个字符类，都有一个“反向类”，用相同的字母表示，但是大写的。</p> <p>“反向”表示它与所有其他字符匹配，如下：</p> <table><thead><tr><th>字符类</th> <th>说明</th></tr></thead> <tbody><tr><td>\D</td> <td>非数字：除 \d 以外的任何字符，例如字母。</td></tr> <tr><td>\S</td> <td>非空格符号：除 \s 以外的任何字符，例如字母。</td></tr> <tr><td>\W</td> <td>非单字字符：除 \w 以外的任何字符，例如非拉丁字母或空格。</td></tr></tbody></table> <p>从 +7(903)-123-45-67 字符串中找到所有的数字并将它们连接起来：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> userPhone <span class="token operator">=</span> <span class="token string">&quot;+7(903)-123-45-67&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userPhone<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 79031234567</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userPhone<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\D</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 79031234567</span>
</code></pre></div><h3 id="_3-通配符-与修饰符-s"><a href="#_3-通配符-与修饰符-s" class="header-anchor">#</a> 3. 通配符 . 与修饰符 s</h3> <p>点 . 是一种特殊字符类，它与“除换行符之外的任何字符”匹配。
需要注意:注意，点表示“任何字符”，而不是“缺少字符”。必须有一个与之匹配的字符：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">CS.\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;CSS3&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;CSs3&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>默认情况下，点与换行符 \n 不匹配。但是在很多情况下，我们希望点能够匹配“任何字符”，包括换行符。
如果有一个正则表达式具有修饰符 s，那么点 . 就可以能够匹配任何字符：</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;A\nB&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">A.B</span><span class="token regex-delimiter">/</span><span class="token regex-flags">s</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A\nB（匹配了！）</span>
</code></pre></div><p>注意：IE 浏览器不支持 s 修饰符。</p> <h3 id="_4-总结"><a href="#_4-总结" class="header-anchor">#</a> 4. 总结</h3> <p>存在以下字符类：</p> <p>\d —— 数字。
\D —— 非数字。
\s —— 空格符号，制表符，换行符。
\S —— 除了 \s 。
\w —— 拉丁字母，数字，下划线 '_'。
\W —— 除了 \w。
. —— 带有修饰符 's' 时匹配任何字符，否则匹配除换行符 \n 之外的任何字符。
……但这还不是全部！</p> <p>JavaScript 用于字符串的 Unicode 编码提供了很多字符属性，例如：这个字母属于哪种语言（如果它是一个字母），它是标点符号吗，等等。</p> <p>我们也可以通过这些属性进行搜索。这需要修饰符 u。</p> <h2 id="三、unicode-修饰符-u-和类-p"><a href="#三、unicode-修饰符-u-和类-p" class="header-anchor">#</a> 三、Unicode: 修饰符 &quot;u&quot; 和类 \p{...}</h2> <h3 id="_1-修饰符-u"><a href="#_1-修饰符-u" class="header-anchor">#</a> 1. 修饰符 &quot;u&quot;</h3> <p>JavaScript 对字符串使用 Unicode 编码。大多数字符使用 2 个字节编码，但这种方式只能编码最多 65536 个字符。因此后面出现了四个字节编码的字符。如 𝒳（数学符号 X）或 😄（笑脸），一些象形文字等等。
直到现在 JavaScript 依然存在一些 bug，如无法正确识别字符长度:</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;α&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token comment">// length 认为下面有 2 个字符：</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;𝒳&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;😄&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><p>上面关键在于 length 把 4 个字节当成了 2 个 2 字节长的字符。这是不对的，因为它们必须被当作一个整体来考虑（即“<a href="https://zh.javascript.info/string#dai-li-dui" target="_blank" rel="noopener noreferrer">代理对（surrogate pair）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>”）。在默认情况下，正则表达式也会把一个 4 个字节的“长字符”当成一对 2 个字节长的字符。正如在上面字符串中遇到的情况，这将会导致一些奇怪的结果。</p> <p>与字符串有所不同的是，正则表达式有一个修饰符 u 被用以解决此类问题。当一个正则表达式带有这个修饰符后，4 个字节长的字符将被正确地处理，同时也能够使用 Unicode 属性进行查找了。</p> <h3 id="_2-unicode-属性-p"><a href="#_2-unicode-属性-p" class="header-anchor">#</a> 2. Unicode 属性 \p{…}</h3> <p>Unicode 中的每个字符都有很多属性。它们描述了字符所属的“类别”，包含了关于字符的各种信息。如一个字符具有 Letter 属性，这意味着这个字符归属于（任意语言的）字母表。而 Number 属性则表示这是一个数字：也许是阿拉伯数字，亦或是中文数字，等等。</p> <p>我们可以查找具有某种属性的字符，写作 \p{…}。为了使用 \p{…}，一个正则表达式必须使用修饰符 u。如 <code>\p{Letter}</code> 表示任何语言中的一个字母。我们也可以使用 <code>\p{L}</code>，因为 L 是 Letter 的一个别名。对于每种属性而言，几乎都存在对应的缩写别名。
示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;A ბ ㄱ&quot;</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{L}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A,ბ,ㄱ</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{L}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null（没有匹配项，因为没有修饰符 &quot;u&quot;）</span>
</code></pre></div><p>主要字符类别和子类别：</p> <ul><li>字母（Letter）L：
<ul><li>小写（lowercase）Ll，</li> <li>修饰（modifier）Lm，</li> <li>首字母大写（titlecase）Lt，</li> <li>大写（uppercase）Lu，</li> <li>其它（other）Lo。</li></ul></li> <li>数字（Number）N：
<ul><li>十进制数字（decimal digit）Nd，</li> <li>字母数字（letter number）Nl，</li> <li>其它（other）No。</li></ul></li> <li>标点符号（Punctuation）P：
<ul><li>连接符（connector）Pc，</li> <li>横杠（dash）Pd，</li> <li>起始引号（initial quote）Pi，</li> <li>结束引号（final quote）Pf，</li> <li>开（open）Ps，</li> <li>闭（close）Pe，</li> <li>其它（other）Po。</li></ul></li> <li>标记（Mark）M（accents etc）：
<ul><li>间隔合并（spacing combining）Mc，</li> <li>封闭（enclosing）Me，</li> <li>非间隔（non-spacing）Mn。</li></ul></li> <li>符号（Symbol）S：
<ul><li>货币（currency）Sc，</li> <li>修饰（modifier）Sk，</li> <li>数学（math）Sm，</li> <li>其它（other）So。</li></ul></li> <li>分隔符（Separator）Z：
<ul><li>行（line）Zl，</li> <li>段落（paragraph）Zp，</li> <li>空格（space）Zs。</li></ul></li> <li>其它（Other）C：
<ul><li>控制符（control）Cc，</li> <li>格式（format）Cf，</li> <li>未分配（not assigned）Cn，</li> <li>私有（private use）Co，</li> <li>代理伪字符（surrogate）Cs。</li></ul></li></ul> <p>当然除了上面列举常见的字符类和子列，也有其它派生的类别。而且 Unicode 支持很多不同的属性，不在列出，详情请查阅以下文档：</p> <p><a href="https://unicode.org/cldr/utility/character.jsp" target="_blank" rel="noopener noreferrer">列出一个字符的所有属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://unicode.org/cldr/utility/list-unicodeset.jsp" target="_blank" rel="noopener noreferrer">按照属性列出所有的字符<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt" target="_blank" rel="noopener noreferrer">属性的对应缩写形式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.unicode.org/Public/UCD/latest/ucd/." target="_blank" rel="noopener noreferrer">以文本格式整理的所有 Unicode 字符，包含了所有的属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>现在我们要匹配首字母大写:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> timeStr <span class="token operator">=</span> <span class="token string">&quot;Time now&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>timeStr<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{Lu}\p{L}\w+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-总结"><a href="#_3-总结" class="header-anchor">#</a> 3. 总结</h3> <p>修饰符 u 表示启用正则表达式中对 Unicode 的支持。</p> <p>这意味着两件事：</p> <ul><li>4 个字节长的字符被以正确的方式处理：被看成单个字符，而不是 2 个 2 字节长的字符。</li> <li>Unicode 属性可以被用于查找：\p{…}。</li></ul> <p>有了 unicode 属性我们可以查找给定语言中的词，特殊字符（引用，货币）等等。</p> <h2 id="四、锚点-字符串开始-和末尾"><a href="#四、锚点-字符串开始-和末尾" class="header-anchor">#</a> 四、锚点：字符串开始^和末尾$</h2> <p>插入符号 ^ 和美元符号 $ 在正则表达式中具有特殊的含义。它们被称为“锚点”。</p> <p>插入符号 ^ 匹配文本开头，而美元符号 $ 则匹配文本末尾。</p> <p>在大部分场景下，我们实际上可以用 startsWith/endsWith 来代替。正则表达式应该被用于更加复杂的测试。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> goodInput <span class="token operator">=</span> <span class="token string">&quot;12:34&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> badInput <span class="token operator">=</span> <span class="token string">&quot;12:345&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d\d:\d\d$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>regexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>goodInput<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>regexp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>badInput<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>注意：锚点“宽度”为零
锚点 ^ 和 $ 属于测试。它们的宽度为零。换句话说，它们并不匹配一个具体的字符，而是让正则引擎测试所表示的条件（文本开头/文本末尾）。</p> <h2 id="五、锚点-的多行模式-修饰符-m"><a href="#五、锚点-的多行模式-修饰符-m" class="header-anchor">#</a> 五、锚点 ^ $ 的多行模式，修饰符 &quot;m&quot;</h2> <p>多行模式由修饰符 m 启用。它只影响 ^ 和 $ 的行为。在多行模式下，它们不仅仅匹配文本的开始与末尾，还匹配每一行的开始与末尾。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1st place: Winnie
2nd place: Piglet
3rd place: Eeyore</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2, 3</span>
</code></pre></div><p>没有修饰符 m 时，仅会匹配第一个数字：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1st place: Winnie
2nd place: Piglet
3rd place: Eeyore</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><p>在默认情况下，锚点 ^ 仅匹配文本的开头，在多行模式下，它匹配行的开头。“行的开头”表示“就在换行符之后”：多行模式下的测试 ^ 匹配所有以换行符 \n 开头的位置。以及在文本开始的位置。
美元符 $ 的行为也类似。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Winnie: 1
Piglet: 2
Eeyore: 3</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,2,3</span>
</code></pre></div><p>没有修饰符 m，那么美元符 $ 将只会匹配整个文本的末尾，所以只有最后一个数字会被匹配。</p> <p>请注意：“行的末尾”表示“就在换行符之前”：多行模式下的测试 $ 匹配所有以换行符 \n 结尾的位置。以及在文本末尾的位置。</p> <p>要寻找新的一行，我们不仅可以使用锚点 ^ 和 $，也可以使用换行符 \n,如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Winnie: 1
Piglet: 2
Eeyore: 3</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1\n,2\n</span>
</code></pre></div><p>这里找到了 2 个匹配项而不是 3 个。</p> <p>这是因为在 3 之后没有换行符（但是有文本末尾，所以它匹配 $）。</p> <p>另一个区别是，现在每个匹配项都包含一个换行符 \n。与锚点 ^ $ 不同，锚点只测试条件（行的开始/末尾），而 \n 是一个字符，因此它成为了结果的一部分。</p> <p>因此，当我们需要结果中有换行符时，使用 \n。而锚点则用于在行的开头/末尾查找某些内容。</p> <h2 id="六、词边界"><a href="#六、词边界" class="header-anchor">#</a> 六、词边界</h2> <p>词边界 \b 是一种检查，就像 ^ 和 $ 一样。</p> <p>当正则表达式引擎（实现正则表达式搜索的程序模块）遇到 \b 时，它会检查字符串中的位置是否是词边界。</p> <p>有三种不同的位置可作为词边界：</p> <ul><li>在字符串开头，如果第一个字符是单词字符 \w。</li> <li>在字符串中的两个字符之间，其中一个是单词字符 \w，另一个不是。</li> <li>在字符串末尾，如果最后一个字符是单词字符 \w。</li></ul> <p>示例:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Java!&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bHello\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Java!&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bJava\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Java</span>
<span class="token comment">// l 之后没有单词边界</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Java!&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bHell\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null（无匹配项）</span>
<span class="token comment">// 感叹号不是单词字符 \w，所以其后没有词边界</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Java!&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bJava!\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null（无匹配项）</span>
</code></pre></div><p>\b 既可以用于单词，也可以用于数字。</p> <p>例如，模式 \b\d\d\b 查找独立的两位数。换句话说，它查找的是两位数，其周围是与 \w 不同的字符，例如空格或标点符号（或文本开头/结尾）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;1 23 456 78&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b\d\d\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 23,78</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;12,34,56&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b\d\d\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12,34,56</span>
</code></pre></div><p>注意：词边界 \b 不适用于非拉丁字母</p> <p>词边界测试 \b 检查该位置的一侧是否匹配 \w，而另一侧则不匹配 “\w”。但是，\w 表示拉丁字母 a-z（或数字或下划线），所以此检查不适用于其他字符，如西里尔字母（cyrillic letters）或象形文字（hieroglyphs）。</p> <h2 id="七、转义-特殊字符"><a href="#七、转义-特殊字符" class="header-anchor">#</a> 七、转义,特殊字符</h2> <p>正如我们所看到的，反斜杠 \ 用于表示字符类，例如 \d。所以它是正则表达式中的一个特殊字符（就像在常规字符串中一样）。</p> <p>还存在其它特殊字符，这些字符在正则表达式中有特殊的含义，例如 [ ] { } ( ) \ ^ $ . | ? * +。它们用于执行更强大的搜索。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Chapter 5.1&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d\.\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5.1（匹配了！）</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;function g()&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">g\(\)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;g()&quot;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;1\2&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '\'</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/'</span>
</code></pre></div><p>从另一个方面看，如果我们没使用 /.../，而是使用另一种 new RegExp 的方式创建正则表达式，则不需要转义斜杠：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/'</span>
</code></pre></div><p>但是使用 new RegExp 的方式创建正则表达式会带来一个问题,如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// let reg = new RegExp(&quot;\d\.\d&quot;);</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;d.d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Chapter 5.1&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre></div><p>因为反斜杠被字符串“消耗”了。在字符串中的反斜杠表示转义或者类似 \n 这种只能在字符串中使用的特殊字符。这个引用会“消耗”并且解释这些字符。也就是说调用 new RegExp 会获得一个没有反斜杠的字符串。
要修复这个问题，我们需要双斜杠，因为引用会把 \ 变为 \：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> regStr <span class="token operator">=</span> <span class="token string">&quot;\\d\\.\\d&quot;</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>regStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \d\.\d（现在对了）</span>

<span class="token keyword">let</span> regexp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>regStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Chapter 5.1&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5.1</span>
</code></pre></div><p>总结：
要在字面意义上搜索特殊字符 [ \ ^ $ . | ? * + ( )，我们需要在它们前面加上一个反斜杠 \（“转义它们”）。
如果在 /.../ 内（但不在 new RegExp 内），我们还需要转义 /。
当将字符串传递给给 new RegExp 时，我们需要双反斜杠 \，因为字符串引号会消耗一个反斜杠。</p> <h2 id="八、集合和范围"><a href="#八、集合和范围" class="header-anchor">#</a> 八、集合和范围</h2> <p>在方括号 <code>[…]</code> 中的几个字符或者字符类表示“搜索给定字符中的任意一个”。
集合：
在正则表达式中，可以将集合和常规字符一起使用。
注意，虽然集合中有多个字符，但它们在匹配中只会对应其中的一个。
示例:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 查找 [t 或 m]，然后匹配 &quot;op&quot;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Mop top&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[tm]op</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Mop&quot;, &quot;top&quot;</span>
</code></pre></div><p>方括号也可以包含 字符范围。</p> <p>例如，<code>[a-z]</code>表示从 a 到 z 范围内的字符，<code>[0-5]</code>表示从 0 到 5 的数字。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Exception 0xAF&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x[0-9A-F][0-9A-F]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xAF</span>
</code></pre></div><p>如果我们还想查找小写字母，则可以添加范围 a-f：[0-9A-Fa-f]。或添加标志 i。</p> <p>我们也可以在 <code>[…]</code>中使用字符类。例如，如果我们想查找单词字符 \w 或连字符 -，则集合可以写为 <code>[\w-]</code>。也可以组合多个类，例如 <code>[\s\d]</code> 表示“空格字符或数字”。</p> <p>除了普通的范围匹配，还有像这样 <code>[^…]</code> 的“排除”范围匹配。</p> <p>示例：</p> <ul><li><code>[^aeyo]</code> —— 匹配除了 'a'、'e'、'y' 或 'o' 之外的任何字符。</li> <li><code>[^0-9]</code> —— 匹配除了数字之外的任何字符，与 \D 作用相同。</li> <li><code>[^\s]</code> —— 匹配任何非空格字符，与 \S 作用相同。</li></ul> <p>在方括号，我们可以使用绝大多数特殊字符而无需转义：</p> <ul><li>符号 . + ( ) 无需转义。</li> <li>在开头或结尾（未定义范围）的连字符 - 不会被转义。</li> <li>插入符号 ^ 仅在开头会被转义（表示排除）。</li> <li>右方括号 ] 总是会被转义（如果我们需要寻找那个符号）。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 不需要转义</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[-().^+]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 2 - 3&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 匹配 +，-</span>
</code></pre></div><p>如果集合中有代理对（surrogate pairs），则需要标志 u 才能使它们正常工作。
例如，让我们在字符串 𝒳 中查找 [𝒳𝒴]：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;𝒳&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[𝒳𝒴]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示了一个奇怪的字符</span>
</code></pre></div><p>这是因为默认情况下正则表达式“不知道”代理对。正则表达式引擎认为 <code>[𝒳𝒴]</code> —— 不是两个字符，而是四个字符：</p> <h2 id="九、量词-和-n"><a href="#九、量词-和-n" class="header-anchor">#</a> 九、量词 +, *, ? 和 {n}</h2> <p>数字是一个或多个数字 \d 的序列。为了标记我们需要的数量，我们需要加一个 量词。</p> <p>在一个字符（或一个字符类，或 <code>[...]</code> 等）后附加一个量词，用来指出我们具体需要的数量。最简单的量词便是大括号中的数字：{n}。</p> <p>如：\d{5} 表示 5 位数，与 \d\d\d\d\d 相同。
示例:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;I'm 12345 years old&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{5}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  &quot;12345&quot;</span>
</code></pre></div><p>我们可以添加 \b 来排除位数更多的数字：\b\d{5}\b。也可以指定范围，如要查找 3-5 位的数字，我们可以将限制写在花括号中：\d{3,5}</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;I'm not 12, but 1234 years old&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{3,5}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1234&quot;</span>
</code></pre></div><p>如果省略了上限,那么正则表达式 \d{3,} 就会查找位数大于等于 3 的数字：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;I'm not 12, but 345678 years old&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{3,}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;345678&quot;</span>
</code></pre></div><p>大多数常用的量词都有简写形式:</p> <ul><li>+ 与{1,}相同。表示一个或多个，即至少有一个</li> <li>? 与 {0,1} 相同代表“零个或一个”，。换句话说，它使得符号变得可选。</li> <li>* 与 {0,} 相同。代表“零个及以上”，也就是说，字符可以出现任何次数或者不出现。</li></ul> <p>注意：量词是很常用的。它们是构成复杂正则表达式的主要“模块”，下面是一些示例：
小数的正则表达式:<code>\d+\.\d+</code>
HTML 标签的正则表达式:<code>/&lt;[a-z]+&gt;/i</code>或者<code>/&lt;\/?[a-z][a-z0-9]*&gt;/i</code></p> <h2 id="十-量词的匹配模式"><a href="#十-量词的匹配模式" class="header-anchor">#</a> 十 量词的匹配模式</h2> <h3 id="贪婪模式-默认"><a href="#贪婪模式-默认" class="header-anchor">#</a> 贪婪模式（默认）</h3> <p>默认情况下，正则表达式引擎会尝试尽可能多地重复量词字符。例如，\d+ 会消耗所有可能的字符。当无法消耗更多（在尾端没有更多的数字或字符串）时，然后它再匹配模式的剩余部分。如果没有匹配，则减少重复的次数（回溯），并再次尝试。</p> <h3 id="惰性模式"><a href="#惰性模式" class="header-anchor">#</a> 惰性模式</h3> <p>通过在量词后添加问号 ? 来启用。正则表达式引擎尝试在每次重复量化字符之前匹配模式的其余部分。
正如我们所见，惰性模式并不是贪婪搜索的“灵丹妙药”。另一种方式是使用排除项“微调”贪婪搜索，如模式 &quot;[^&quot;]+&quot;。</p> <h2 id="未完-待后续补充"><a href="#未完-待后续补充" class="header-anchor">#</a> 未完 待后续补充</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后一次更新:</span> <span class="time">1/9/2023, 12:03:29 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.c0f8f10d.js" defer></script><script src="/docs/assets/js/2.c2e75043.js" defer></script><script src="/docs/assets/js/26.a531193b.js" defer></script><script src="/docs/assets/js/3.a96fac23.js" defer></script>
  </body>
</html>
